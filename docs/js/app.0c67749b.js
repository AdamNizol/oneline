(function(e){function t(t){for(var a,o,l=t[0],s=t[1],h=t[2],c=0,p=[];c<l.length;c++)o=l[c],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&p.push(n[o][0]),n[o]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);u&&u(t);while(p.length)p.shift()();return r.push.apply(r,h||[]),i()}function i(){for(var e,t=0;t<r.length;t++){for(var i=r[t],a=!0,l=1;l<i.length;l++){var s=i[l];0!==n[s]&&(a=!1)}a&&(r.splice(t--,1),e=o(o.s=i[0]))}return e}var a={},n={app:0},r=[];function o(t){if(a[t])return a[t].exports;var i=a[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=e,o.c=a,o.d=function(e,t,i){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(i,a,function(t){return e[t]}.bind(null,a));return i},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],s=l.push.bind(l);l.push=t,l=l.slice();for(var h=0;h<l.length;h++)t(l[h]);var u=s;r.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},3471:function(e,t,i){"use strict";var a=i("e97f"),n=i.n(a);n.a},4510:function(e,t,i){"use strict";var a=i("5a6a"),n=i.n(a);n.a},"56d7":function(e,t,i){"use strict";i.r(t);i("e260"),i("e6cf"),i("cca6"),i("a79d");var a=i("2b0e"),n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"app"}},[i("OneLine")],1)},r=[],o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"mazeContainer"},[i("div",{staticClass:"controls"},[i("div",{staticClass:"controlRow"},[i("p",[e._v("Line Colour:")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.lineCol,expression:"lineCol"}],attrs:{type:"color"},domProps:{value:e.lineCol},on:{input:function(t){t.target.composing||(e.lineCol=t.target.value)}}}),i("p",[e._v("Fill Colour:")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.pathCol,expression:"pathCol"}],attrs:{type:"color"},domProps:{value:e.pathCol},on:{input:function(t){t.target.composing||(e.pathCol=t.target.value)}}}),i("p",[e._v("Background:")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.wallCol,expression:"wallCol"}],attrs:{type:"color"},domProps:{value:e.wallCol},on:{input:function(t){t.target.composing||(e.wallCol=t.target.value)}}}),i("button",{staticStyle:{"margin-left":"1em"},on:{click:function(t){return e.newMaze()}}},[e._v("Refresh")])]),i("p",[e._v("Detail:")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.mazeDetail,expression:"mazeDetail"}],staticStyle:{width:"400px"},attrs:{type:"range",min:"31",max:"87",step:"2"},domProps:{value:e.mazeDetail},on:{__r:function(t){e.mazeDetail=t.target.value}}})]),i("div",{staticClass:"row"},[i("InterpretedView",{attrs:{mazeWidth:e.mazeWidth,mazeHeight:e.mazeHeight,refresh:e.refreshImg},on:{updateShape:e.updateShape}}),i("MazeView",{attrs:{value:e.maze,mazeWidth:e.mazeWidth,mazeHeight:e.mazeHeight}}),i("div",{staticClass:"svgRep"},[i("svg",{staticStyle:{height:"100%",width:"100%"},attrs:{viewBox:"0 0 100 100",preserveAspectRatio:"none"}},[i("path",{attrs:{d:e.pathSvg+"Z",stroke:"black","stroke-width":1-e.previousDetailLvl/220,fill:"none"}})])]),i("div",{staticClass:"overlaid"},[i("div",{staticClass:"svgRep",style:"background-color: "+e.wallCol},[i("svg",{staticStyle:{height:"100%",width:"100%"},attrs:{viewBox:"0 0 100 100",preserveAspectRatio:"none"}},[i("path",{attrs:{d:e.pathSvg+"Z",stroke:e.lineCol,"stroke-width":1-e.previousDetailLvl/220,fill:e.pathCol}})])])])],1)])},l=[],s=(i("99af"),i("fb6a"),i("4478")),h=i("2909"),u=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"container"},e._l(e.binGrid,(function(t,a){return i("div",{key:a,staticClass:"row"},e._l(t,(function(a,n){return i("div",{key:n,class:["cell"],style:"background-color: "+(n%2==0?e.closedColour:e.openColour)+"; width: "+a*(100/t[0])+"%;"})})),0)})),0)},c=[],p={name:"MazeView",props:{value:{},openColour:{default:"white"},closedColour:{default:"black"},mazeWidth:{default:43},mazeHeight:{default:43}},computed:{binGrid:function(){for(var e=[],t=0;t<this.value.length;t++){for(var i=[],a=!1,n=0,r=0;r<this.value[t].length;r++)!!this.value[t][r]==a?n++:(n>0&&i.push(n),n=1,a=!!this.value[t][r]);i.push(n),e.push(i)}return e}}},v=p,f=(i("4510"),i("2877")),d=Object(f["a"])(v,u,c,!1,null,"05985867",null),g=d.exports,m=i("d4ec"),y=i("bee2"),z=function(){function e(){Object(m["a"])(this,e)}return Object(y["a"])(e,null,[{key:"generateMaze",value:function(e,t){e%2==0&&(e-=1),t%2==0&&(t-=1);for(var i=[],a=0;a<t;a++){i.push([]);for(var n=0;n<e;n++)0==a||0==n||a==t-1||n==e-1?i[a].push(1):i[a].push(0)}return this.populateSection(i,1,1,e-2,t-2),i}},{key:"populateSection",value:function(e,t,i,a,n){var r=a-t+1,o=n-i+1;if(!(r<=1||o<=1))if(r>o){for(var l=2*Math.floor(Math.random()*((r-1)/2))+t+1,s=2*Math.floor(Math.random()*((o+1)/2))+i,h=i;h<=n;h++)h!=s&&(e[h][l]=1);this.populateSection(e,t,i,l-1,n),this.populateSection(e,l+1,i,a,n)}else{for(var u=2*Math.floor(Math.random()*((o-1)/2))+i+1,c=2*Math.floor(Math.random()*((r+1)/2))+t,p=t;p<=a;p++)p!=c&&(e[u][p]=1);this.populateSection(e,t,i,a,u-1),this.populateSection(e,t,u+1,a,n)}}}]),e}(),w=z,x=function(){function e(){Object(m["a"])(this,e)}return Object(y["a"])(e,null,[{key:"generateMaze",value:function(e){e[0].length,e.length;var t=this.getShapeCopy(e);return this.carvePath(t),t}},{key:"carvePath",value:function(e){var t=this.getShapeCopy(e),i=this.getInitialPathTile(e),a=[];t[i.y][i.x]=2;while(a.length>0||this.getPossibleMoves(i,t).length>0){var n=this.getPossibleMoves(i,t);if(n.length>0){var r=Math.floor(Math.random()*n.length);n.length>1&&a.push({x:i.x,y:i.y});for(var o=0;o<2;o++)i={x:i.x+n[r].x/2,y:i.y+n[r].y/2},t[i.y][i.x]=2}else i=a.pop()}for(var l=0;l<e.length;l++)for(var s=0;s<e[l].length;s++)t[l][s]?2==t[l][s]&&(e[l][s]=0):e[l][s]=1}},{key:"getShapeCopy",value:function(e){for(var t=[],i=0;i<e.length;i++)t[i]=e[i].slice();return t}},{key:"getPossibleMoves",value:function(e,t){var i=[];return e.y-2<0||0!=t[e.y-2][e.x]||i.push({x:0,y:-2}),e.y+2>=t.length||0!=t[e.y+2][e.x]||i.push({x:0,y:2}),e.x-2<0||0!=t[e.y][e.x-2]||i.push({x:-2,y:0}),e.x+2>=t[e.y].length||0!=t[e.y][e.x+2]||i.push({x:2,y:0}),i}},{key:"getInitialPathTile",value:function(e){for(var t=0;t<(e.length-1)/2;t++)for(var i=0;i<(e[t].length-1)/2;i++)if(!e[2*t+1][2*i+1])return{y:2*t+1,x:2*i+1};return null}}]),e}(),b=x,C=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Object(m["a"])(this,e),this.x=t,this.y=i,this.dir=[0,-1]}return Object(y["a"])(e,[{key:"turn",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"right",t=[this.dir[1],this.dir[0]];"right"==e?t[0]*=-1:t[1]*=-1,this.dir=t}},{key:"move",value:function(){this.x+=this.dir[0],this.y+=this.dir[1]}},{key:"getPoints",value:function(){var e=[this.x+.5,this.y+.5],t=[e[0]+this.dir[0]/2,e[1]+this.dir[1]/2];this.turn("left");var i=[t[0]+this.dir[0]/2,t[1]+this.dir[1]/2];return this.turn("right"),[i,t]}}]),e}(),k=C,S=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"displayContainer"},[i("vue-p5",e._g({staticClass:"screen"},{setup:e.setup,draw:e.draw}))],1)},M=[],O=i("e25d"),P=i.n(O),_={components:{"vue-p5":P.a},name:"InterpretedView",props:{mazeWidth:{},mazeHeight:{},refresh:{default:!1}},data:function(){return{p5sketch:null,img:null,imgSize:400}},watch:{refresh:function(e){e&&this.p5sketch.loop()}},methods:{setup:function(e){var t=this;this.p5sketch=e,e.resizeCanvas(this.imgSize,this.imgSize),e.background("black");var i=e.createFileInput((function(a){t.img=e.createImg(a.data,""),t.img.hide(),e.loop(),i.elt.value=null}));i.position(0,0),e.noLoop()},draw:function(e){if(e.background("black"),e.strokeWeight(.25),this.img&&this.img.width>0){e.noLoop();var t=[],i=this.imgSize/Math.max(this.img.width,this.img.height),a={w:this.img.width*i,h:this.img.height*i};e.image(this.img,(this.imgSize-a.w)/2,(this.imgSize-a.h)/2,a.w,a.h),e.loadPixels(),e.background("black");for(var n=e.pixelDensity(),r=this.imgSize/Math.min(this.mazeWidth,this.mazeHeight),o=0;o<this.mazeHeight;o++){for(var l=[],s=0;s<this.mazeWidth;s++){for(var h=0,u=0;u<r;u++)for(var c=0;c<r;c++)for(var p=this.getPixelIndex(s*r+u,o*r+c,this.imgSize,n),v=0;v<3;v++){var f=e.pixels[p+v]/255;h+=f}h>r*r/2?(l.push(0),e.rect(s*r,o*r,r,r)):l.push(1)}t.push(l)}this.$emit("updateShape",t)}},getPixelIndex:function(e,t,i,a){var n=Math.round(t*a),r=Math.round(e*a);return 4*(i*n+r)}}},j=_,D=(i("adb2"),Object(f["a"])(j,S,M,!1,null,"4cae67ce",null)),I=D.exports,L={name:"OneLine",components:{MazeView:g,InterpretedView:I},data:function(){var e=47;return{maze:w.generateMaze(e,e),mazeDetail:e,pathCol:"#D01F1F",wallCol:"#400A0A",lineCol:"#FFC0CB",shape:null,refreshImg:!1,previousDetailLvl:e}},computed:{path:function(){var e=this.maze.length,t=this.maze[0].length,i=100/e,a=100/t,n=Object(s["a"])(k,Object(h["a"])(this.getPathTile(this.maze))),r=[n.x,n.y],o=[[a*r[0],i*(r[1]+1)]],l=0,u=0;this.maze[n.x+1][n.y]&&u++,this.maze[n.x-1][n.y]&&u++,this.maze[n.x][n.y+1]&&u++,this.maze[n.x][n.y-1]&&u++;while(n.x!=r[0]||n.y!=r[1]||l!=u){n.x==r[0]&&n.y==r[1]&&l++,n.turn("left");while(this.maze[n.y+n.dir[1]][n.x+n.dir[0]]){for(var c=n.getPoints(),p=0;p<c.length;p++)c[p][0]=c[p][0]*a,c[p][1]=c[p][1]*i;o=o.concat(c),n.turn("right")}n.move()}n.turn("left");for(var v=n.getPoints(),f=0;f<v.length;f++)v[f][0]=v[f][0]*a,v[f][1]=v[f][1]*i;return o=o.concat(v),o},pathSvg:function(){var e="M ";if(this.path.length>1){e+=this.path[0][0]+" "+this.path[0][1],e+=" S ";for(var t=1;t<this.path.length;t++)e+=this.path[t][0]+" "+this.path[t][1]+" "}return e},mazeWidth:function(){return this.mazeDetail},mazeHeight:function(){return this.mazeDetail}},methods:{newMaze:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e?this.maze=e:this.shape?this.previousDetailLvl!=this.mazeDetail?this.refreshImg=!0:this.updateShape(this.shape):this.maze=w.generateMaze(this.mazeWidth,this.mazeHeight)},getPathTile:function(e){for(var t=0;t<e.length;t++)for(var i=0;i<e[t].length;i++)if(!e[t][i])return[i,t];return[1,1]},updateShape:function(e){this.previousDetailLvl=this.mazeDetail,this.refreshImg&&(this.refreshImg=!1),this.shape=e;for(var t=[],i=0;i<e.length;i++)t[i]=e[i].slice();this.newMaze(b.generateMaze(t))}}},W=L,H=(i("3471"),Object(f["a"])(W,o,l,!1,null,"ea368f88",null)),T=H.exports,F={name:"App",components:{OneLine:T}},R=F,V=(i("5c0b"),Object(f["a"])(R,n,r,!1,null,null,null)),$=V.exports;a["a"].config.productionTip=!1,new a["a"]({render:function(e){return e($)}}).$mount("#app")},"5a6a":function(e,t,i){},"5c0b":function(e,t,i){"use strict";var a=i("9c0c"),n=i.n(a);n.a},"9c0c":function(e,t,i){},adb2:function(e,t,i){"use strict";var a=i("e60e"),n=i.n(a);n.a},e60e:function(e,t,i){},e97f:function(e,t,i){}});
//# sourceMappingURL=app.0c67749b.js.map