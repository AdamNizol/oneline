(function(t){function e(e){for(var a,o,l=e[0],s=e[1],h=e[2],c=0,p=[];c<l.length;c++)o=l[c],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&p.push(n[o][0]),n[o]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a]);u&&u(e);while(p.length)p.shift()();return r.push.apply(r,h||[]),i()}function i(){for(var t,e=0;e<r.length;e++){for(var i=r[e],a=!0,l=1;l<i.length;l++){var s=i[l];0!==n[s]&&(a=!1)}a&&(r.splice(e--,1),t=o(o.s=i[0]))}return t}var a={},n={app:0},r=[];function o(e){if(a[e])return a[e].exports;var i=a[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=t,o.c=a,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(i,a,function(e){return t[e]}.bind(null,a));return i},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],s=l.push.bind(l);l.push=e,l=l.slice();for(var h=0;h<l.length;h++)e(l[h]);var u=s;r.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"15ef":function(t,e,i){"use strict";var a=i("3e50"),n=i.n(a);n.a},"3e50":function(t,e,i){},4510:function(t,e,i){"use strict";var a=i("5a6a"),n=i.n(a);n.a},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var a=i("2b0e"),n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("OneLine")],1)},r=[],o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"mazeContainer"},[i("div",{staticClass:"controls"},[i("div",{staticClass:"controlRow"},[i("p",[t._v("Path Colour:")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.pathCol,expression:"pathCol"}],attrs:{type:"color"},domProps:{value:t.pathCol},on:{input:function(e){e.target.composing||(t.pathCol=e.target.value)}}}),i("p",[t._v("Wall Colour:")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.wallCol,expression:"wallCol"}],attrs:{type:"color"},domProps:{value:t.wallCol},on:{input:function(e){e.target.composing||(t.wallCol=e.target.value)}}}),i("p",[t._v("Line Colour:")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.lineCol,expression:"lineCol"}],attrs:{type:"color"},domProps:{value:t.lineCol},on:{input:function(e){e.target.composing||(t.lineCol=e.target.value)}}}),i("button",{staticStyle:{"margin-left":"1em"},on:{click:function(e){return t.newMaze()}}},[t._v("Refresh")])]),i("p",[t._v("Detail:")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.mazeDetail,expression:"mazeDetail"}],staticStyle:{width:"400px"},attrs:{type:"range",min:"31",max:"87",step:"2"},domProps:{value:t.mazeDetail},on:{__r:function(e){t.mazeDetail=e.target.value}}})]),i("div",{staticClass:"row"},[i("InterpretedView",{attrs:{mazeWidth:t.mazeWidth,mazeHeight:t.mazeHeight},on:{updateShape:t.updateShape}}),i("MazeView",{attrs:{value:t.maze,mazeWidth:t.mazeWidth,mazeHeight:t.mazeHeight}}),i("div",{staticClass:"svgRep"},[i("svg",{staticStyle:{height:"100%",width:"100%"},attrs:{viewBox:"0 0 100 100",preserveAspectRatio:"none"}},[i("path",{attrs:{d:t.pathSvg,stroke:"black","stroke-width":1-t.mazeDetail/220,fill:"none"}})])]),i("div",{staticClass:"overlaid"},[i("div",{staticClass:"svgRep",style:"background-color: "+t.wallCol},[i("svg",{staticStyle:{height:"100%",width:"100%"},attrs:{viewBox:"0 0 100 100",preserveAspectRatio:"none"}},[i("path",{attrs:{d:t.pathSvg,stroke:t.lineCol,"stroke-width":1-t.mazeDetail/220,fill:t.pathCol}})])])])],1)])},l=[],s=(i("99af"),i("fb6a"),i("4478")),h=i("2909"),u=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},t._l(t.binGrid,(function(e,a){return i("div",{key:a,staticClass:"row"},t._l(e,(function(a,n){return i("div",{key:n,class:["cell"],style:"background-color: "+(n%2==0?t.closedColour:t.openColour)+"; width: "+a*(100/e[0])+"%;"})})),0)})),0)},c=[],p={name:"MazeView",props:{value:{},openColour:{default:"white"},closedColour:{default:"black"},mazeWidth:{default:43},mazeHeight:{default:43}},computed:{binGrid:function(){for(var t=[],e=0;e<this.value.length;e++){for(var i=[],a=!1,n=0,r=0;r<this.value[e].length;r++)!!this.value[e][r]==a?n++:(n>0&&i.push(n),n=1,a=!!this.value[e][r]);i.push(n),t.push(i)}return t}}},v=p,f=(i("4510"),i("2877")),d=Object(f["a"])(v,u,c,!1,null,"05985867",null),g=d.exports,m=i("d4ec"),y=i("bee2"),z=function(){function t(){Object(m["a"])(this,t)}return Object(y["a"])(t,null,[{key:"generateMaze",value:function(t,e){t%2==0&&(t-=1),e%2==0&&(e-=1);for(var i=[],a=0;a<e;a++){i.push([]);for(var n=0;n<t;n++)0==a||0==n||a==e-1||n==t-1?i[a].push(1):i[a].push(0)}return this.populateSection(i,1,1,t-2,e-2),i}},{key:"populateSection",value:function(t,e,i,a,n){var r=a-e+1,o=n-i+1;if(!(r<=1||o<=1))if(r>o){for(var l=2*Math.floor(Math.random()*((r-1)/2))+e+1,s=2*Math.floor(Math.random()*((o+1)/2))+i,h=i;h<=n;h++)h!=s&&(t[h][l]=1);this.populateSection(t,e,i,l-1,n),this.populateSection(t,l+1,i,a,n)}else{for(var u=2*Math.floor(Math.random()*((o-1)/2))+i+1,c=2*Math.floor(Math.random()*((r+1)/2))+e,p=e;p<=a;p++)p!=c&&(t[u][p]=1);this.populateSection(t,e,i,a,u-1),this.populateSection(t,e,u+1,a,n)}}}]),t}(),b=z,x=function(){function t(){Object(m["a"])(this,t)}return Object(y["a"])(t,null,[{key:"generateMaze",value:function(t){t[0].length,t.length;var e=this.getShapeCopy(t);return this.carvePath(e),e}},{key:"carvePath",value:function(t){var e=this.getShapeCopy(t),i=this.getInitialPathTile(t),a=[];e[i.y][i.x]=2;while(a.length>0||this.getPossibleMoves(i,e).length>0){var n=this.getPossibleMoves(i,e);if(n.length>0){var r=Math.floor(Math.random()*n.length);a.push({x:i.x,y:i.y});for(var o=0;o<2;o++)i={x:i.x+n[r].x/2,y:i.y+n[r].y/2},e[i.y][i.x]=2}else i=a.pop()}for(var l=0;l<t.length;l++)for(var s=0;s<t[l].length;s++)e[l][s]?2==e[l][s]&&(t[l][s]=0):t[l][s]=1}},{key:"getShapeCopy",value:function(t){for(var e=[],i=0;i<t.length;i++)e[i]=t[i].slice();return e}},{key:"getPossibleMoves",value:function(t,e){var i=[];return t.y-2<0||0!=e[t.y-2][t.x]||i.push({x:0,y:-2}),t.y+2>=e.length||0!=e[t.y+2][t.x]||i.push({x:0,y:2}),t.x-2<0||0!=e[t.y][t.x-2]||i.push({x:-2,y:0}),t.x+2>=e[t.y].length||0!=e[t.y][t.x+2]||i.push({x:2,y:0}),i}},{key:"getInitialPathTile",value:function(t){for(var e=0;e<(t.length-1)/2;e++)for(var i=0;i<(t[e].length-1)/2;i++)if(!t[2*e+1][2*i+1])return{y:2*e+1,x:2*i+1};return null}}]),t}(),w=x,C=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Object(m["a"])(this,t),this.x=e,this.y=i,this.dir=[0,-1]}return Object(y["a"])(t,[{key:"turn",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"right",e=[this.dir[1],this.dir[0]];"right"==t?e[0]*=-1:e[1]*=-1,this.dir=e}},{key:"move",value:function(){this.x+=this.dir[0],this.y+=this.dir[1]}},{key:"getPoints",value:function(){var t=[this.x+.5,this.y+.5],e=[t[0]+this.dir[0]/2,t[1]+this.dir[1]/2];this.turn("left");var i=[e[0]+this.dir[0]/2,e[1]+this.dir[1]/2];return this.turn("right"),[i,e]}}]),t}(),S=C,k=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"displayContainer"},[i("vue-p5",t._g({staticClass:"screen"},{setup:t.setup,draw:t.draw}))],1)},M=[],P=i("e25d"),O=i.n(P),_={components:{"vue-p5":O.a},name:"InterpretedView",props:["mazeWidth","mazeHeight"],data:function(){return{p5sketch:null,img:null,imgSize:400}},methods:{setup:function(t){var e=this;this.p5sketch=t,t.resizeCanvas(this.imgSize,this.imgSize),t.background("black");var i=t.createFileInput((function(a){e.img=t.createImg(a.data,""),e.img.hide(),t.loop(),i.elt.value=null}));i.position(0,0),t.noLoop()},draw:function(t){if(t.background("black"),t.strokeWeight(.25),this.img&&this.img.width>0){t.noLoop();var e=[],i=this.imgSize/Math.max(this.img.width,this.img.height),a={w:this.img.width*i,h:this.img.height*i};t.image(this.img,(this.imgSize-a.w)/2,(this.imgSize-a.h)/2,a.w,a.h),t.loadPixels(),t.background("black");for(var n=t.pixelDensity(),r=this.imgSize/Math.min(this.mazeWidth,this.mazeHeight),o=0;o<this.mazeHeight;o++){for(var l=[],s=0;s<this.mazeWidth;s++){for(var h=0,u=0;u<r;u++)for(var c=0;c<r;c++)for(var p=this.getPixelIndex(s*r+u,o*r+c,this.imgSize,n),v=0;v<3;v++){var f=t.pixels[p+v]/255;h+=f}h>r*r/2?(l.push(0),t.rect(s*r,o*r,r,r)):l.push(1)}e.push(l)}this.$emit("updateShape",e)}},getPixelIndex:function(t,e,i,a){var n=Math.round(e*a),r=Math.round(t*a);return 4*(i*n+r)}}},j=_,D=(i("15ef"),Object(f["a"])(j,k,M,!1,null,"2aa1a01f",null)),W=D.exports,H={name:"OneLine",components:{MazeView:g,InterpretedView:W},data:function(){var t=47;return{maze:b.generateMaze(t,t),mazeDetail:t,pathCol:"#D01F1F",wallCol:"#400A0A",lineCol:"#FFC0CB",shape:null}},computed:{path:function(){var t=this.maze.length,e=this.maze[0].length,i=100/t,a=100/e,n=Object(s["a"])(S,Object(h["a"])(this.getPathTile(this.maze))),r=[n.x,n.y],o=[[a*r[0],i*r[1]]],l=0,u=0;this.maze[n.x+1][n.y]&&u++,this.maze[n.x-1][n.y]&&u++,this.maze[n.x][n.y+1]&&u++,this.maze[n.x][n.y-1]&&u++;while(n.x!=r[0]||n.y!=r[1]||l!=u){n.x==r[0]&&n.y==r[1]&&l++,n.turn("left");while(this.maze[n.y+n.dir[1]][n.x+n.dir[0]]){for(var c=n.getPoints(),p=0;p<c.length;p++)c[p][0]=c[p][0]*a,c[p][1]=c[p][1]*i;o=o.concat(c),n.turn("right")}n.move()}n.turn("left");for(var v=n.getPoints(),f=0;f<v.length;f++)v[f][0]=v[f][0]*a,v[f][1]=v[f][1]*i;return o=o.concat(v),o},pathSvg:function(){var t="M ";if(this.path.length>1){t+=this.path[0][0]+" "+this.path[0][1],t+=" S ";for(var e=1;e<this.path.length;e++)t+=this.path[e][0]+" "+this.path[e][1]+" "}return t},mazeWidth:function(){return this.mazeDetail},mazeHeight:function(){return this.mazeDetail}},methods:{newMaze:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t?this.maze=t:this.shape?this.updateShape(this.shape):this.maze=b.generateMaze(this.mazeWidth,this.mazeHeight)},getPathTile:function(t){for(var e=0;e<t.length;e++)for(var i=0;i<t[e].length;i++)if(!t[e][i])return[i,e];return[1,1]},updateShape:function(t){this.shape=t;for(var e=[],i=0;i<t.length;i++)e[i]=t[i].slice();this.newMaze(w.generateMaze(e))}}},I=H,T=(i("619b"),Object(f["a"])(I,o,l,!1,null,"1563bfec",null)),L=T.exports,R={name:"App",components:{OneLine:L}},V=R,$=(i("5c0b"),Object(f["a"])(V,n,r,!1,null,null,null)),A=$.exports;a["a"].config.productionTip=!1,new a["a"]({render:function(t){return t(A)}}).$mount("#app")},"5a6a":function(t,e,i){},"5c0b":function(t,e,i){"use strict";var a=i("9c0c"),n=i.n(a);n.a},"619b":function(t,e,i){"use strict";var a=i("b996"),n=i.n(a);n.a},"9c0c":function(t,e,i){},b996:function(t,e,i){}});
//# sourceMappingURL=app.41510159.js.map